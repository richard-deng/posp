## -*- coding: utf-8 -*-
<%inherit file="/base.html" />
<%block name="title">
终端绑定
</%block>

<%block name="head_media">
<link href="/static/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
<link href="/static/css/posp/define_label_error.css" rel="stylesheet">
<style>
    .termbind_query {
        padding-left: 15px!important;
    }
    .dataTables_length {
        padding-left: 30px!important;
    }
    .form_date {
        padding-right: 15px!important;
        padding-left: 15px!important;
    }
</style>
</%block>

<%block name="page">

<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                <span>终端绑定</span>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="row">
                    <form class="form-inline termbind_query" id="termbind_query">
                        <div class="form-group">
                            <label for="s_userid">商户ID</label>
                            <input type="text" class="form-control" id="s_userid" name="s_userid" placeholder="">
                        </div>
                        <div class="form-group">
                            <label for="s_termbind_id">终端ID</label>
                            <input type="text" class="form-control" id="s_termbind_id" name="s_termbind_id" placeholder="">
                        </div>
                        <div class="form-group">
                            <label for="s_psamid">PSAMID</label>
                            <input type="text" class="form-control" id="s_psamid" name="s_psamid" placeholder="">
                        </div>

                        <button type="button" class="btn btn-primary" id="termbindSearch">搜索</button>
                        <button type="button" class="btn btn-default" id="termbindCreate">添加</button>
                    </form>
                    <label id="query_label_error"></label>
                </div>

                <div class="row">
                    <table id="termbindList" class="display table table-striped table-bordered table-hover dataTable no-footer dtr-inline" cellspacing="0" width="100%">
                        <thead>
                        <tr>
                            <th>商户ID</th>
                            <th>UDID</th>
                            <th>终端ID</th>
                            <th>PSAMID</th>
                            <th>DISKEY</th>
                            <th>FACKEY</th>
                            <th>秘钥版本</th>
                            <th>系统</th>
                            <th>系统版本</th>
                            <th>状态</th>
                            <th>激活日期</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="termbindCreateModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">添加</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" id="termbindCreateForm" role="form">
                    
                    <div class="form-group">
                        <label for="active_date_add" class="col-sm-2 control-label">激活日期</label>
                        <div class="input-group date form_date col-sm-10" data-date="" data-date-format="yyyy-mm-dd hh:ii:ss" data-link-field="active_date_add" data-link-format="yyyy-mm-dd hh:ii:ss" id="datetimepicker1">
                            <input class="form-control sea_date" type="text" value="" readonly="">
                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                        </div>
                        <input type="hidden" id="active_date_add" value="" name="active_date_add"><br>
                    </div>

                    <div class="form-group">
                        <label for="userid_add" class="col-sm-2 control-label">商户ID</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="userid_add" name="userid_add" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="udid_add" class="col-sm-2 control-label">udid</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="udid_add" name="udid_add" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="terminal_id_add" class="col-sm-2 control-label">终端ID</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="terminal_id_add" name="terminal_id_add" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="psamid_add" class="col-sm-2 control-label">Psamid</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="psamid_add" name="psamid_add" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="psamtp_add" class="col-sm-2 control-label">Psamtp</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="psamtp_add" name="psamtp_add" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="tckkey_add" class="col-sm-2 control-label">Tckkey</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="tckkey_add" name="tckkey_add" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="pinkey1_add" class="col-sm-2 control-label">Pinkey1</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="pinkey1_add" name="pinkey1_add"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="pinkey2_add" class="col-sm-2 control-label">Pinkey2</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="pinkey2_add" name="pinkey2_add"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="mackey_add" class="col-sm-2 control-label">mackey</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="mackey_add" name="mackey_add"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="diskey_add" class="col-sm-2 control-label">diskey</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="diskey_add" name="diskey_add"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="fackey_add" class="col-sm-2 control-label">fackey</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="fackey_add" name="fackey_add"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="enc_pin_key_add" class="col-sm-2 control-label">enc_pin_key</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="enc_pin_key_add" name="enc_pin_key_add"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="tmk_add" class="col-sm-2 control-label">tmk</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="tmk_add" name="tmk_add"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="os_add" class="col-sm-2 control-label">系统</label>
                        <div class="col-sm-10">
                            <select class="form-control os_add" id="os_add" name="os_add">
                                <option value="0">安卓</option>
                                <option value="1">其它</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="os_ver_add" class="col-sm-2 control-label">系统版本</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="os_ver_add" name="os_ver_add"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="key_version_add" class="col-sm-2 control-label">秘钥版本</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="key_version_add" name="key_version_add"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="state_add" class="col-sm-2 control-label">State</label>
                        <div class="col-sm-10">
                            <select class="form-control used_add" id="state_add" name="state_add">
                                <option value="0">0</option>
                                <option value="1">1</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="qpos_pubkey_add" class="col-sm-2 control-label">公钥</label>
                        <div class="col-sm-10">
                            <textarea class="form-control qpos_pubkey_add" id="qpos_pubkey_add" name="qpos_pubkey_add" placeholder="必填"></textarea>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="dig_env_add" class="col-sm-2 control-label">dig_env</label>
                        <div class="col-sm-10">
                            <textarea class="form-control dig_env_add" id="dig_env_add" name="dig_env_add" placeholder="必填"></textarea>
                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" id="termbindCreateSubmit">提交</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="termbindViewModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">查看</h4><span id="view_termbind_id" hidden></span>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" id="termbindViewForm" role="form">
                    <div class="form-group">
                        <label for="active_date_view" class="col-sm-2 control-label">激活日期</label>
                        <div class="input-group date form_date col-sm-10" data-date="" data-date-format="yyyy-mm-dd hh:ii:ss" data-link-field="active_date_view" data-link-format="yyyy-mm-dd hh:ii:ss" id="datetimepicker1">
                            <input class="form-control sea_date" type="text" value="" readonly="" name="active_date_view">
                            <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                            <span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                        </div>
                        <input type="hidden" id="active_date_view" value="" name="active_date_view"><br>
                    </div>

                    <div class="form-group">
                        <label for="userid_view" class="col-sm-2 control-label">商户ID</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="userid_view" name="userid_view" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="udid_view" class="col-sm-2 control-label">udid</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="udid_view" name="udid_view" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="terminal_id_view" class="col-sm-2 control-label">终端ID</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="terminal_id_view" name="terminal_id_view" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="psamid_view" class="col-sm-2 control-label">Psamid</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="psamid_view" name="psamid_view" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="psamtp_view" class="col-sm-2 control-label">Psamtp</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="psamtp_view" name="psamtp_view" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="tckkey_view" class="col-sm-2 control-label">Tckkey</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="tckkey_view" name="tckkey_view" placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="pinkey1_view" class="col-sm-2 control-label">Pinkey1</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="pinkey1_view" name="pinkey1_view"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="pinkey2_view" class="col-sm-2 control-label">Pinkey2</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="pinkey2_view" name="pinkey2_view"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="mackey_view" class="col-sm-2 control-label">mackey</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="mackey_view" name="mackey_view"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="diskey_view" class="col-sm-2 control-label">diskey</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="diskey_view" name="diskey_view"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="fackey_view" class="col-sm-2 control-label">fackey</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="fackey_view" name="fackey_view"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="enc_pin_key_view" class="col-sm-2 control-label">enc_pin_key</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="enc_pin_key_view" name="enc_pin_key_view"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="tmk_view" class="col-sm-2 control-label">tmk</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="tmk_view" name="tmk_view"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="os_view" class="col-sm-2 control-label">系统</label>
                        <div class="col-sm-10">
                            <select class="form-control os_view" id="os_view" name="os_view">
                                <option value="0">安卓</option>
                                <option value="1">其它</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="os_ver_view" class="col-sm-2 control-label">系统版本</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="os_ver_view" name="os_ver_view"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="key_version_view" class="col-sm-2 control-label">秘钥版本</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="key_version_view" name="key_version_view"  placeholder="必填">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="state_view" class="col-sm-2 control-label">State</label>
                        <div class="col-sm-10">
                            <select class="form-control state_view" id="state_view" name="state_view">
                                <option value="0">0</option>
                                <option value="1">1</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="qpos_pubkey_view" class="col-sm-2 control-label">公钥</label>
                        <div class="col-sm-10">
                            <textarea class="form-control qpos_pubkey_view" id="qpos_pubkey_view" name="qpos_pubkey_view" placeholder="必填"></textarea>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="dig_env_view" class="col-sm-2 control-label">dig_env</label>
                        <div class="col-sm-10">
                            <textarea class="form-control dig_env_view" id="dig_env_view" name="dig_env_view" placeholder="必填"></textarea>
                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" id="termbindViewSubmit">提交</button>
            </div>
        </div>
    </div>
</div>

</%block>

<%block name="body_media">
<script src="/static/js/jquery.validate.js" type="text/javascript"></script>
<script src="/static/js/jquery.validate.messages_cn.js" type="text/javascript"></script>
<script src="/static/js/jquery.form.js" type="text/javascript"></script>
<script src="/static/js/bootstrap-typeahead.js" type="text/javascript"></script>
<script src="/static/js/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
<script src="/static/js/bootstrap-datetimepicker.zh-CN.js" type="text/javascript"></script>
<script src="/static/js/toastr.js" type="text/javascript"></script>
<script src="/static/js/md5.min.js" type="text/javascript"></script>
<script src="/static/js/posp/base.js" type="text/javascript"></script>
<script src="/static/js/posp/termbind.js" type="text/javascript"></script>
<script type="text/javascript">
    $('.form_date').datetimepicker({
        language:  'zh-CN',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 0,
        forceParse: 0,
        minuteStep: 1,
        icons:{
            time: "fa fa-clock-o",
            date: "fa fa-calendar",
            up: "fa fa-arrow-up",
            down: "fa fa-arrow-down"
        },
        sideBySide: true
    });
    $(".form_date input.sea_date").on({
        'mouseenter': function() {
            $(this).attr('readonly', 'readonly');
        },
        'mouseleave': function() {
            $(this).removeAttr('readonly');
        }
    });
</script>
</%block>